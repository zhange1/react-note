#### react优化点

###### 1、使用纯组件

​	

###### 2、使用React.memo进行组件记忆

- memo是个高阶函数，很像PureComponent，但PureComponent属于classComponent，而memo属于函数组件
- 它会记忆上次输入的props，然后与本次传递的props进行浅比较，若相同则不重新渲染
- 比较逻辑可自定义，比较逻辑返回false则重新渲染，否则不重新渲染

###### 3、使用shouldComponentUpdate生命周期钩子函数

- 此方法返回true会重新渲染，反之则不会
- 需自行进行处理逻辑开发

###### 4、懒加载组件

- 代码拆分，可使用webpack的lazy或suspense
- 可在render函数中进行逻辑判断，再搭配lazy来进行组件懒加载，而不必要加载两个组件
- 主包体积变小，消耗网络传输时间更少，动态单独加载的包比较小，可迅速加载完成

###### 5、使用React Fragments避免额外标记

- 

###### 6、不使用内联函数定义

- 当使用内联函数时，每次调用render时，都会创建一个新的函数实例

###### 7、避免componentWillMount中进行异步请求，因为在fiber架构中可能会多次调用

###### 8、避免使用内联样式

###### 9、优化条件渲染，尽量避免大面积内容替换，应改为标签内容文本替换

###### 10、保持render函数的纯净，不要在里面有触发setState等操作

###### 11、为组件创建错误边界

- static getDerivedStateFromError
- componentDidCatch

###### 12、渲染列表数据应设置唯一key，且最好不为index

###### 13、添加事件节流与防抖

- 节流：设置全局变量，当时间不超出此时间时，不重复调用，场景是：页面滚动
- 防抖：设置定时器，每次调用先清除定时器，然后再设置定时器，场景是：用户输入、按钮点击

###### 14、使用CDN

- 不同域名，浏览器限制了单个域名的并发连接数量，浏览器单个tab同事请求数量为6，若有7个需连接，则需等待，使用CDN托管到不同的域名/服务器上，可提高并发能力
- 文件可能已被缓存，有很多网站使用这些CDN，因此尝试访问的资源可能已在浏览器中缓存过了，这时应用将访问文件的已缓存版本，从而减少脚本和文件执行的网络调用和延迟，提高应用性能

###### 15、用CSS动画来代替JS动画

###### 16、在web服务器启用gzip压缩

###### 17、React组件的服务端渲染

- 服务端渲染可以减少初始页面的加载延迟
- 性能：初始页面与数据是从服务器本身加载的，因此不需要添加加载器和下拉列表，而是等待初始页面加载完毕后加载初始组件。
- SEO优化：爬虫在应用初始加载时查找页面内容，在客户端渲染时初始web页面不包含所需组件，这些要等react脚本等文件加载完毕之后才渲染出来。
- 可使用next.js等服务器渲染第三方库